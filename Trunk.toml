# An example Trunk.toml with all possible fields along with their defaults.

[build]
# The index HTML file to drive the bundling process.
target = "index.html"
# Build in release mode.
release = false
# The output dir for all final assets.
dist = "dist"
# The public URL from which assets are to be served.
public_url = "/"

[watch]
# Additional paths to ignore.
ignore = []

[serve]
# The port to serve on.
port = 8080
# Open a browser tab once the initial build is complete.
open = false

[clean]
# The output dir for all final assets.
dist = "dist"
# Optionally perform a cargo clean.
cargo = false

## proxy
# Proxies are optional, and default to `None`.
# Proxies are only run as part of the `trunk serve` command.

[[proxy]]
# This websocket proxy example has a backend and a path field. This example will listen for
# websocket connections at `/api/ws` and proxy the those to `http://localhost:9000/api/ws`.
# Websocket proxies must be listed before http ones.
path = "/api/ws/"
backend = "http://localhost:9000/api/ws"
ws = true

[[proxy]]
# This proxy example has a backend and a path field. Only the requests received on `path` will be
# proxied to the backend. The request URIs are not modified when proxied.
# This example will listen at `/api/v1` and proxy the requests to `http://localhost:9000/`
path = "/api/v1/"
backend = "http://localhost:9000"

[[proxy]]
# This proxy specifies only the backend, which is the only required field. The request URIs are not modified when proxied.
# This example will listen at `/` and proxy the requests to `http://localhost:9000/api/v2`
backend = "http://localhost:9000/api/v2"
